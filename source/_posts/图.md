---
title: 图
date: 2021-04-08 21:02:03
tags: [图,最短路径,Prim,Dijkstra]
categories: 数据结构
---

# 图

## 基本概念

图(Graph)是由顶点的有穷非空集合和顶点之间的集合组成，通常表示为G[V, E]，其中G表示一个图，V是图G的顶点集合，E是图G中边的集合

<img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpcn6v4h35j30qu0oumyw.jpg" alt="preview" style="zoom:50%;" />

- 无向图：微信好友
- 有向图：微博粉丝
- 度：以该顶点为一个端点的边数目
  - 无向图中顶点V的度是指依附于该顶点的边的条数，记为TD(v)
  - 有向图中顶点V的度分为出度和入度
    - 入度（ID）是以顶点v为终点的有向边的数目
    - 出度（OD）是以顶点V为起点的有向边的数目
- 路径：两个顶点之间的顶点序列
- 回路（环）：第一个顶点和最后一个顶点相同的路径
- 路径长度：路径上边的数目
- 点到点的距离：最短路径或无穷（不存在路径）
- 连通：两个顶点之间有路径
- 强连通：有向图中的两个顶点互相连通
- 连通图：任意两个顶点都是连通的，否则为非连通图
- 强连通：任意两个顶点强连通
- 子图
- 连通分量：无向图中的极大连通子图（包含尽可能多的顶点和边）
- 强连通分量：有向图中的极大强连通子图
- 生成树：包含图中全部顶点的一个极小连通子图（可能会有多个）
- 生成森林：连通分量的生成树构成生成森林
- 权：每条边的带有某种含义的数值
- 带权路径长度：路径权值之和

## 几种特殊图

- 无向完全图：任意两个顶点之间都有边
- 有向完全图：任意两个顶点之间都有方向相反的弧
- 稀疏图
- 稠密图
- 树：不存在回路且连通的无向图
- 有向树：一个顶点的入度为0，其他顶点入度为1的有向图

# 图的存储

## 邻接矩阵

<img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpcnvvv8avj30go0go74n.jpg" alt="查看源图像" style="zoom:67%;" />

空间复杂度：o(n^2)，适合存储稠密图

## 邻接表

<img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpco1g32llj30pi0b4wew.jpg" alt="查看源图像" style="zoom:67%;" />

### 十字链表

### 邻接多重表（无向图）

# 图的遍历

- 广度优先遍历（BFS）
- 深度优先遍历（DFS）

## 广度优先遍历

从图的一个未遍历的节点出发，先遍历这个节点的相邻节点，再依次遍历每个相邻节点的相邻节点

1. 若树非空，则根结点入队
2. 若队列非空，队头元素出队并访问，同时将该元素的子元素依次入队
3. 重复2直到队列为空

## 深度优先遍历

从图中一个未访问的顶点 V 开始，沿着一条路一直走到底，然后从这条路尽头的节点回退到上一个节点，再从另一条路开始走到底...，不断递归重复此过程，直到所有的顶点都遍历完成，它的特点是不撞南墙不回头，先走完一条路，再换一条路继续走

# 最小生成树

## 概念

针对带权连通无向图

MST（Minimum Spanning Tree）：边的权值之和最小的生成树

## Prim算法

丛某个顶点开始构建，每次将代价最小的新顶点纳入生成树，直到所有顶点都纳入为止

1. 从图中找第一个起始顶点v0，作为生成树的第一个顶点，然后从这个顶点到其他顶点的所有边中选一条权值最小的边。然后把这条边的另一个顶点v和这条边加入到生成树中。
2. 对剩下的其他所有顶点，分别检查这些顶点与顶点v的权值是否比这些顶点在lowcost数组中对应的权值小，如果更小，则用较小的权值更新lowcost数组。
3. 从更新后的lowcost数组中继续挑选权值最小而且不在生成树中的边，然后加入到生成树。
4. 反复执行②③直到所有所有顶点都加入到生成树中。

双重循环，外层循环次数为n-1，内层并列的两个循环次数都是n。故普利姆算法时间复杂度为O(n2) 而且时间复杂度只和n有关，所以适合稠密图

## Kruskal算法

每次选择一条权值最小的变，使这条边的两头连通（原本已经连通的就不选），直到所有结点都连通

克鲁斯卡尔算法操作分为对边的权值排序部分和一个单重for循环，它们是并列关系，由于排序耗费时间大于单重循环，所以克鲁斯卡尔算法的主要时间耗费在排序上。排序和图中边的数量有关系，所以适合稀疏图

# 最短路径

## BFS

BFS+队列+dist[]+path[]

只适用于无权图或者各边权值都相同的图

## Dijkstra算法

- final []：标记各顶点是否找到最短路径
- dist []：最短路径长度
- path []：路径上的前驱

# **TODO**

## Floyd算法

动态规划

## 拓扑排序

### AOV

果我们把每个环节看成图中一个顶点，在这样一个有向图中，用顶点表示活动，用弧表示活动之间的优先关系，那么这样的有向图称为AOV网(Activity On Vertex)





