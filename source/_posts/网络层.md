---
title: 网络层
date: 2021-03-15 22:23:57
tags: 网络层
categories: 计算机网络
---

# 网络层

主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务

传输单位是**数据报**

功能：

- 路由选择与分组转发
  - 路由选择：按照复杂的分布式算法，根据从各相邻路由器所得到的关于整个网络拓扑的变化情况，动态改变所选择的路有
  - 分组转发：路由器根据转发表将用户的IP数据报从合适的端口转发出去
- 异构网络互联
- 拥塞控制
  - 因出现过量的分组而引起网络性能下降的现象称为拥塞
  - 控制方法：
    - 开环控制：静态，在设计网络时，事先将有关发生拥塞的因素考虑周到
    - 闭环控制：动态，事先不考虑，采用监测网络系统去见识，及时检测哪里发生了拥塞，将拥塞信息发送到合适的地方

# 数据交换方式

## 电路交换

**特点：独占资源**

1. 建立连接（呼叫/电路建立）
2. 通信 
3. 释放连接（拆除电路）

**优点**

- 通信时延小
- 有序传输
- 没有冲突
- 实时性强

**缺点**

- 建立连接时间长
- 线路独占，使用效率低
- 灵活性差
- 无差错控制能力

如电话网络

## 报文交换

报文：源应用发送的信息整体

通过交换设备进行存储转发，链路空闲时发送

**优点**

- 无需建立连接
- 存储转发，动态分配线路
- 线路可靠性较高
- 线路利用率高
- 多目标服务

**缺点**

- 有存储转发时延
- 报文大小补丁，需要网络节点有较大缓存空间

## 分组交换

分组：将大的数据块（报文）分割成小的数据块

相对于报文交换，存储管理更容易，但是需要传输额外的信息量，乱序到达目的主机时，要对分组排序重组

## 虚电路

一条源主机到目的主机类似于电路的路径（逻辑链接），路径上所有节点都要维持这条虚电路的建立，都维持一张虚电路表，每一项纪录了一个打开的虚电路的信息

每个分组携带虚电路号

虚电路将数据报方式和电路交换方式结合，以发挥两者优点

# 路由算法

路由表/转发表

| 目的网络IP地址 | 子网掩码 | 下一跳IP地址 | 接口 |
| -------------- | -------- | ------------ | ---- |
|                |          |              |      |
|                |          |              |      |

最佳路由：相对于某一种特定要求下得出的较为合理的选择

## 静态路由算法

管理员手工配置路由信息

在负荷稳定、拓扑变化不大的网络中运行效果好，广泛应用于高度安全性的军事网络和较小的商业网络

缺点：路由更新慢，不适用大型网络

## 动态路由算法

自适应路由算法

路由器之间彼此交换信息，按照路由算法优化出路由表项

优点：路由更新快，适用大型网络，及时响应链路费用或网络拓扑变化

缺点：算法复杂，增加网络负担

- 全局性：链路状态路由算法 OSPF （所有路由器掌握完整的网络拓扑和链路费用信息）
- 分散性：距离向量路由算法 RIP（路由器只掌握物理项链的邻居及链路费用）

## 层次路由

自治系统AS：在单一的技术管理下的一组路由器

路由选择协议：

- 内部网关协议IGP：单个AS内使用 RIP OSPF
- 外部网关协议EGP：AS之间使用



